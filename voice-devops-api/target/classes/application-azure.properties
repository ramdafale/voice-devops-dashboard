# Azure Production Configuration
# This file contains production-ready settings for Azure deployment

# Database Configuration - Azure SQL Database
spring.datasource.url=${AZURE_SQL_CONNECTION_STRING:jdbc:sqlserver://localhost:1433;databaseName=voice_devops_db;encrypt=true;trustServerCertificate=true}
spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver
spring.datasource.username=${AZURE_SQL_USERNAME:sa}
spring.datasource.password=${AZURE_SQL_PASSWORD:password}
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect

# JPA Configuration for Production
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Server Configuration for Azure
server.port=${PORT:8080}
server.address=0.0.0.0

# Security Configuration
spring.security.user.name=${ADMIN_USERNAME:admin}
spring.security.user.password=${ADMIN_PASSWORD:admin}

# Voice Recognition Configuration
voice.recognition.enabled=${VOICE_RECOGNITION_ENABLED:false}
voice.recognition.language=${VOICE_RECOGNITION_LANGUAGE:en-US}
voice.recognition.confidence-threshold=${VOICE_RECOGNITION_CONFIDENCE:0.8}

# Jenkins Configuration
jenkins.url=${JENKINS_URL:http://localhost:8081}
jenkins.username=${JENKINS_USERNAME:admin}
jenkins.api.token=${JENKINS_API_TOKEN:}

# GitHub Configuration
github.api.url=${GITHUB_API_URL:https://api.github.com}
github.token=${GITHUB_TOKEN:}
github.owner=${GITHUB_OWNER:}
github.repo=${GITHUB_REPO:}

# Deployment Agent Configuration
deployment.agent.enabled=${DEPLOYMENT_AGENT_ENABLED:true}
deployment.agent.max-concurrent-deployments=${MAX_CONCURRENT_DEPLOYMENTS:5}
deployment.agent.default-timeout=${DEPLOYMENT_TIMEOUT:300}
deployment.agent.auto-approval=${AUTO_APPROVAL:false}

# Logging Configuration for Production
logging.level.com.devops=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Actuator Configuration for Azure
management.endpoints.web.exposure.include=health,info,metrics,env,configprops
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=always
management.health.db.enabled=true
management.health.diskspace.enabled=true

# Application Info
spring.application.name=voice-devops-api
info.app.name=Voice DevOps Dashboard API
info.app.version=1.0.0
info.app.description=Voice-Controlled DevOps Dashboard API for Azure
info.app.environment=production

# Azure Specific Configuration
azure.app.service=true
azure.app.service.environment=production

# CORS Configuration for Azure
spring.web.cors.allowed-origins=${ALLOWED_ORIGINS:https://*.azurewebsites.net,https://*.azure.com}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# Health Check Endpoint
management.health.defaults.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# Metrics for Azure Application Insights
management.metrics.export.azure.application-insights.enabled=true
management.metrics.export.azure.application-insights.connection-string=${APPLICATIONINSIGHTS_CONNECTION_STRING:} 